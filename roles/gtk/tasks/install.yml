---
- name: install | validate task list parameters
  run_once: true
  assert:
    that:
      - gtk.theme.repo is defined
      - gtk.theme.name is defined
      - gtk.wallpaper is defined
    quiet: true

- name: install | clone project repository
  git:
    repo: "{{ 'https://' + gtk.theme.repo }}"
    dest: "{{ '/usr/share/themes/' + gtk.theme.name }}" 
    depth: 1
    single_branch: true

- name: install | create necessary directories
  file:
    path: /usr/share/backgrounds/nord 
    state: directory
  register: wallpaper

- name: install | deploy wallpaper
  copy:
    src: "{{ gtk.wallpaper }}"
    dest: "{{ wallpaper.path }}"
